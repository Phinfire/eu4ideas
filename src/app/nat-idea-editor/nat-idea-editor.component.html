<div class="idea-tree-container">
  <mat-tree #tree [dataSource]="treeData" [childrenAccessor]="childrenAccessor">
    <mat-tree-node *matTreeNodeDef="let node" matTreeNodePadding style="user-select: none;" (click)="onLeafNodeClick(node)">
      <img [src]="getImageUrl(node.key)" alt="Node Icon" width="48" height="48" style="margin-right: 8px;">
      <span [ngClass]="{'selected-label': leafIsSelected(node)}" matTooltip="{{ node.key }}">{{ getNodeLabel(node.key) }}</span>
    </mat-tree-node>
    <mat-tree-node *matTreeNodeDef="let node;when: hasChild" matTreeNodePadding matTreeNodeToggle
                   [cdkTreeNodeTypeaheadLabel]="node.key" style="user-select: none;">
        <mat-icon class="mat-icon-rtl-mirror">{{tree.isExpanded(node) ? 'expand_more' : 'chevron_right'}}</mat-icon>
      <span [ngClass]="{'selected-label': leafIsSelected(node)}" matTooltip="Ideas">{{node.key}}</span>
    </mat-tree-node>
  </mat-tree>
</div>

<div class="nat-idea-table-container">
  <table>
    <tr>
      <th></th>
      <th></th>
      <th></th>
    </tr>
    <tr *ngFor="let slider of sliders; let i = index">
      <td class="idea-name">{{ slider.name }}</td>
      <td>
        <img [src]="slider.getImageUrl()" alt="Slider Image" width="auto" height="100%" draggable="false">
      </td>
      <td>
        <div #customLabelDiv>{{ slider.getCurrentModifier() }}</div>
      </td>
      <td>
        <mat-slider
            *ngIf="slider.min !== slider.max"
            [max]="slider.max" [min]="1" [step]="slider.step" [showTickMarks]="slider.showTicks">
          <input matSliderThumb [(ngModel)]="slider.value" (ngModelChange)="onValueChange($event, i)">
        </mat-slider>
      </td>
      <td class="faded">{{ slider.getCurrentCost() }}</td>
      <td  #realworldcostcell>{{ getRealWorldCost(i, realworldcostcell) }}</td>
    </tr>
    <tr>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td class="total-cell">
        {{ getTotalCost() }}
      </td>
    </tr>
  </table>
</div>